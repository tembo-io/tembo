ARG PG_VERSION=15
ARG PGX_VERSION=0.7.1

FROM quay.io/coredb/pgx-builder:pg${PG_VERSION}-pgx${PGX_VERSION}

WORKDIR /app

ARG PG_VERSION=15
ARG PGX_VERSION=0.7.1

COPY --chown=postgres:postgres . .

ARG EXTENSION_NAME
ARG EXTENSION_VERSION

RUN cargo pgx package
