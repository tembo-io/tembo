name: Geospatial
description: Postgres for geospatial workloads.
image: "quay.io/tembo/standard-cnpg:15.3.0-1-1096aeb"
stack_version: 0.1.0
compute_templates:
  - name: GP-1
    cpu: 0.25
    memory: 1Gi
  - name: GP-2
    cpu: 0.5
    memory: 2Gi
  - name: GP-4
    cpu: 1
    memory: 4Gi
  - name: GP-8
    cpu: 2
    memory: 8Gi
  - name: GP-16
    cpu: 4
    memory: 16Gi
  - name: GP-32
    cpu: 8
    memory: 32Gi
  - name: CI-1
    cpu: 0.5
    memory: 1Gi
  - name: CI-2
    cpu: 1
    memory: 2Gi
  - name: CI-4
    cpu: 2
    memory: 4Gi
  - name: CI-8
    cpu: 4
    memory: 8Gi
  - name: CI-16
    cpu: 8
    memory: 16Gi
  - name: MI-4
    cpu: 0.5
    memory: 4Gi
  - name: MI-8
    cpu: 1
    memory: 8Gi
  - name: MI-16
    cpu: 2
    memory: 16Gi
  - name: MI-32
    cpu: 4
    memory: 32Gi
postgres_config_engine: standard
postgres_config:
  - name: autovacuum_vacuum_cost_limit
    value: -1
  - name: autovacuum_vacuum_scale_factor
    value: 0.05
  - name: autovacuum_vacuum_insert_scale_factor
    value: 0.05
  - name: autovacuum_analyze_scale_factor
    value: 0.05
  - name: checkpoint_timeout
    value: 10min
  - name: track_activity_query_size
    value: 2048
  - name: wal_compression
    value: 'on'
  - name: track_io_timing
    value: 'on'
  - name: log_min_duration_statement # https://www.postgresql.org/docs/15/runtime-config-logging.html
    value: 1000
  - name: pg_stat_statements.track
    value: all
  - name: shared_preload_libraries
    value: pg_stat_statements
trunk_installs:
  - name: pg_stat_statements
    version: 1.10.0
  - name: postgis
    version: 3.4.0
extensions:
  - name: pg_stat_statements
    locations:
      - database: postgres
        enabled: true
        version: 1.10.0
  - name: postgis
    locations:
      - database: postgres
        enabled: true
        version: 3.4.0
